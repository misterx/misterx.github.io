(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{126:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var o=n(41),r=n(42),i=n(10),a=n(127),c=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=function(){function e(t){Object(o.a)(this,e),this.rest=t,this.authenticated=!1,this.initialized=!1}return Object(r.a)(e,[{key:"login",value:function(e,t){var n=this;return this.rest.login(e,t).then(Object(i.f)((function(){n.authenticated=!0})))}},{key:"testLogin",value:function(){this.authenticated=!this.authenticated}}]),e}();function u(e){return Object(a.b)(s.NAME)(e)}s.NAME="appStore",c([i.m],s.prototype,"authenticated",void 0),c([i.m],s.prototype,"initialized",void 0),c([i.f],s.prototype,"login",null),c([i.f],s.prototype,"testLogin",null)},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var o,r,i=n(0),a=n(126),c=n(127),s=i.createContext({}),u=function(e){var t=e.rest,n=e.children;return o=t,r=new a.a(o),i.createElement(s.Provider,{value:{rest:t}},i.createElement(c.a,{appStore:r},n))};function l(){return o}},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n(41),r=n(42),i=n(10),a=n(46),c=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=function(){function e(t,n,r){var c=this;Object(o.a)(this,e),this.resourceName=t,this.items=[],this.status="CLEAN",this.load=function(){var e;return c.status="LOADING",(e=c.filter?c.handleLoadingWithCount(Object(a.getRest)().search(c.resourceName,c.filter,c.collectionOptions)):!0===c.skipCount?c.handleLoadingNoCount(Object(a.getRest)().allWithoutCount(c.resourceName,c.collectionOptions)):c.handleLoadingWithCount(Object(a.getRest)().all(c.resourceName,c.collectionOptions))).catch((function(){return Object(i.n)((function(){c.status="ERROR"}))})),e},this.clear=function(){c.items=[],c.status="CLEAN",c.count=void 0},this.delete=function(e){if(null==e||null==e.id)throw new Error("Unable to delete entity without ID");return c.status="LOADING",Object(a.getRest)().delete(c.resourceName,e.id).then(Object(i.f)((function(){return c.load(),!0}))).catch(Object(i.f)((function(){return c.status="ERROR",!0})))},this.view=n,this.sort=r}return Object(r.a)(e,[{key:"handleLoadingWithCount",value:function(e){var t=this;return e.then((function(e){Object(i.n)((function(){t.items=u(e.data,t.keyField),t.count=e.count,t.status="DONE"}))}))}},{key:"handleLoadingNoCount",value:function(e){var t=this;return e.then((function(e){Object(i.n)((function(){t.items=u(e,t.keyField),t.count=void 0,t.status="DONE"}))}))}},{key:"collectionOptions",get:function(){return{view:this.view,sort:this.sort,limit:this.limit,offset:this.offset}}}]),e}();function u(e,t){return null==t||"id"===t?e:e.map((function(e){var n=e;return null!=t&&(n[t]=n.id),n}))}c([i.m],s.prototype,"items",void 0),c([i.m],s.prototype,"status",void 0),c([i.m],s.prototype,"view",void 0),c([i.m],s.prototype,"sort",void 0),c([i.m],s.prototype,"filter",void 0),c([i.m],s.prototype,"limit",void 0),c([i.m],s.prototype,"offset",void 0),c([i.m],s.prototype,"count",void 0),c([i.m],s.prototype,"skipCount",void 0),c([i.m],s.prototype,"keyField",void 0),c([i.f],s.prototype,"load",void 0),c([i.f],s.prototype,"clear",void 0),c([i.f],s.prototype,"delete",void 0);var l={loadImmediately:!0};function d(e,t){null!=t.view&&(e.view=t.view),null!=t.filter&&(e.filter=t.filter),null!=t.sort&&(e.sort=t.sort),null!=t.limit&&(e.limit=t.limit),null!=t.offset&&(e.offset=t.offset),null!=t.keyField&&(e.keyField=t.keyField),("undefined"===typeof t.loadImmediately||t.loadImmediately)&&e.load()}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=new s(e);return d(n,t),n}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(41),r=n(42),i=n(10),a=n(46),c=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=function(){function e(t,n){var r=this;Object(o.a)(this,e),this.resourceName=t,this.status="CLEAN",this.load=function(e){r.item=void 0,e&&(r.status="LOADING",Object(a.getRest)().one(r.resourceName,e,{view:r.view}).then((function(e){Object(i.n)((function(){r.item=e,r.status="DONE"}))})).catch((function(){Object(i.n)((function(){r.status="ERROR"}))})))},this.commit=function(e){if(null==r.item)return Promise.reject();r.status="LOADING";var t=null!=e?{saveMode:e}:void 0;return Object(a.getRest)().save(r.resourceName,r.item,t).then((function(e){return Object(i.n)((function(){r.status="DONE"})),e})).catch((function(e){return r.status="ERROR",Promise.reject(e)}))},this.view=n}return Object(r.a)(e,[{key:"setItem",value:function(e){this.item=e,this.status="DONE"}},{key:"create",value:function(e){return Object.assign(this.item,e),this.commit("create")}},{key:"update",value:function(e){return Object.assign(this.item,e),this.commit("update")}}]),e}();function u(e,t){var n=new s(e);return t&&null!=t.view&&(n.view=t.view),n}c([i.m],s.prototype,"item",void 0),c([i.m],s.prototype,"status",void 0),c([i.m],s.prototype,"view",void 0),c([i.f],s.prototype,"load",void 0),c([i.f],s.prototype,"setItem",null),c([i.f],s.prototype,"create",null),c([i.f],s.prototype,"update",null),c([i.f],s.prototype,"commit",void 0)},182:function(e,t){},1976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStorage=void 0;var o=function(){function e(){this.items={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.items).length},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.items={}},e.prototype.getItem=function(e){return this.items[e]},e.prototype.key=function(e){throw new Error("Unsupported operation")},e.prototype.removeItem=function(e){delete this.items[e]},e.prototype.setItem=function(e,t){this.items[e]=t},e}();t.DefaultStorage=o},1977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeGetParams=void 0,t.encodeGetParams=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(function(e){if(null==e)return"";if("object"===typeof e)return JSON.stringify(e);return e}(e[t]))})).join("&")}},1978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1981:function(e,t,n){"use strict";n.r(t),n.d(t,"rest",(function(){return te}));var o=n(0),r=n.n(o),i=n(21),a=n.n(i),c=(n(245),n(246),n(58)),s=n(46),u=n(40),l=n(41),d=n(42),f=n(60),p=n(59),h=n(86),m=n(61),y=n(87),v=(n(163),n(1986)),b=n(1988),O=n(13),g=n(204),w=n(1984);function j(e){var t=e.pagination,n=(e.filters,e.sorter),o=e.defaultSort,r=(e.fields,e.dataCollection);return function(e,t,n){if(Array.isArray(e)&&(e=e[0]),e&&e.order){var o="descend"===e.order?"-":"+",r=e.field;n.sort=o+r}else n.sort=t}(n,o,r),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.disabled,r=e.pageSize,i=e.current;if(!0===o)return t.limit=void 0,t.offset=void 0,t.skipCount=!0,void(n&&t.load());t.skipCount&&(t.skipCount=!1);r&&i&&(t.limit=r,t.offset=r*(i-1));n&&t.load()}(t,r),r.load()}var E,R=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},C=E=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var o;Object(l.a)(this,n),(o=t.call(this,e)).selectedRowKeys=[],o.disposers=[],o.onChange=function(e,t,n){var r=Object(m.a)(o);j({pagination:e,filters:t,sorter:n,defaultSort:r.defaultSort,fields:r.fields,dataCollection:o.props.dataCollection})},o.onRowSelectionColumnClicked=function(e){o.isRowSelectionEnabled&&(o.selectedRowKeys=e)},o.onRow=function(e){return{onClick:function(){return o.onRowClicked(e)}}},o.onRowClicked=function(e){if(o.isRowSelectionEnabled){var t=o.constructRowKey(e),n=o.selectedRowKeys.slice();switch(o.props.rowSelectionMode){case"multi":var r=o.selectedRowKeys.indexOf(t);r>-1?n.splice(r,1):n.push(t);break;case"single":o.selectedRowKeys.length>0&&o.selectedRowKeys[0]===t?n=[]:n[0]=t}o.selectedRowKeys=n}},o.onRowSelectionChange=function(){switch(o.props.rowSelectionMode){case void 0:throw new Error("".concat(o.errorContext," rowSelectionMode is not expected to be ").concat(o.props.rowSelectionMode," at this point"));case"none":return;case"multi":case"single":o.props.onRowSelectionChange&&o.props.onRowSelectionChange(o.selectedRowKeys);break;default:new Error(o.errorContext+" rowSelectionMode:"+o.props.rowSelectionMode)}};var r=o.props.dataCollection.sort;return o.defaultSort=r,o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.disposers.push(Object(O.o)((function(){return e.props.dataCollection}),(function(t){if(e.isRowSelectionEnabled&&e.selectedRowKeys.length>0&&"DONE"===t.status){var n=t.items.map((function(t){return e.constructRowKey(t)})),o=[];e.selectedRowKeys.forEach((function(e){n.indexOf(e)>-1&&o.push(e)})),e.selectedRowKeys=o}}))),this.disposers.push(Object(O.o)((function(){return e.props.dataCollection.status}),(function(t){"ERROR"===t&&g.a.error(e.errorContext+"Loading failed")}))),this.disposers.push(Object(O.o)((function(){return e.selectedRowKeys}),this.onRowSelectionChange)),this.disposers.push(Object(O.o)((function(){return e.props.rowSelectionMode}),(function(){e.selectedRowKeys=[]})))}},{key:"componentWillUnmount",value:function(){this.disposers.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this,t=this.props.dataCollection,n={loading:"LOADING"===t.status,dataSource:t.items,pagination:this.paginationConfig,rowKey:function(t){return e.constructRowKey(t)},columns:this.generateColumnProps,onChange:this.onChange};this.isRowSelectionEnabled&&(n=Object.assign(Object.assign({},n),{rowSelection:{type:this.rowSelectionType,selectedRowKeys:this.selectedRowKeys,onChange:this.onRowSelectionColumnClicked}}),this.props.canSelectRowByClick&&(n=Object.assign(Object.assign({},n),{onRow:this.onRow})));var r=Object.assign(Object.assign({},n),this.props.tableProps);return o.createElement("div",{className:"tpg-ui-data-table"},o.createElement("div",{className:"buttons"},this.props.buttons),o.createElement(w.a,Object.assign({},r)))}},{key:"constructRowKey",value:function(e){return e.id}},{key:"errorContext",get:function(){return"[DataTable, resource: ".concat(this.props.dataCollection.resourceName,"]")}},{key:"rowSelectionType",get:function(){switch(this.props.rowSelectionMode){case"multi":return"checkbox";case"single":return"radio";default:throw new Error("".concat(this.errorContext," rowSelectionMode is not expected to be ").concat(this.props.rowSelectionMode," at this point"))}}},{key:"paginationConfig",get:function(){return{showSizeChanger:!1,total:this.props.dataCollection.count}}},{key:"fields",get:function(){var e=this.props.fields;if(null!=e)return e;throw new Error("".concat(this.errorContext," ").concat(E.NO_COLUMN_DEF_ERROR))}},{key:"generateColumnProps",get:function(){var e=this,t=this.props,n=t.columnDefinitions,o=t.fields,r=t.dataCollection,i=n||o;if(!i)throw new Error("".concat(this.errorContext," ").concat(E.NO_COLUMN_DEF_ERROR));return i.map((function(t){var n=t;if(null!=n){var o=function(e){var t=e.propertyName;return{title:t,dataIndex:t,sorter:e.sortable,key:t}}({resourceName:r.resourceName,propertyName:n,sortable:!0});return Object.assign({},o)}throw new Error("".concat(e.errorContext," Neither field name nor columnProps were provided"))}))}},{key:"isRowSelectionEnabled",get:function(){if(!this.props.rowSelectionMode)throw new Error("".concat(this.errorContext," rowSelectionMode is expected to be defined at this point"));return["single","multi"].indexOf(this.props.rowSelectionMode)>-1}}]),n}(o.Component);C.NO_COLUMN_DEF_ERROR="You need to provide either columnDefinitions or fields prop",C.defaultProps={rowSelectionMode:"single",canSelectRowByClick:!0,hideSelectionColumn:!1,hideClearFilters:!1},R([O.n],C.prototype,"selectedRowKeys",void 0),R([O.g],C.prototype,"paginationConfig",null),R([O.g],C.prototype,"fields",null),R([O.f],C.prototype,"onChange",void 0),R([O.g],C.prototype,"generateColumnProps",null),R([O.f],C.prototype,"onRowSelectionColumnClicked",void 0),R([O.f],C.prototype,"onRow",void 0),R([O.f],C.prototype,"onRowClicked",void 0),C=E=R([c.a],C);var S,k,T,N,P=n(50),A=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},I=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments)).formRef=o.createRef(),e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dataInstance,n=e.onCancel,r=e.submitButtonText,i=t.status;return o.createElement(v.a,Object.assign({ref:this.formRef,layout:"vertical",className:"resource-form"},this.props),this.props.children,o.createElement(v.a.Item,{className:"actions"},o.createElement(P.a,{type:"primary",htmlType:"submit",disabled:"DONE"!==i&&"ERROR"!==i,loading:"LOADING"===i},r),o.createElement(P.a,{htmlType:"button",onClick:n},"Cancel")))}},{key:"componentDidMount",value:function(){var e=this;this.reactionDisposer=Object(O.o)((function(){return e.props.dataInstance.item}),(function(){e.props.dataInstance.item&&e.formRef.current.setFieldsValue(e.props.dataInstance.item)}))}},{key:"componentWillUnmount",value:function(){this.reactionDisposer()}}]),n}(o.Component);I=A([c.a],I);var D,x,_,K,L,M,U,G=Object(c.a)((k=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).dataInstance=Object(s.instance)("user"),Object(h.a)(e,"created",T,Object(m.a)(e)),Object(h.a)(e,"cancel",N,Object(m.a)(e)),e.handleSubmit=function(t){e.dataInstance.create(t).then((function(t){e.created=!0}))},e.handleCancel=function(){e.cancel=!0},e}return Object(d.a)(n,[{key:"render",value:function(){return this.created||this.cancel?o.createElement(u.a,{to:Y.PATH}):o.createElement(I,{layout:"vertical",submitButtonText:"Save",onFinish:this.handleSubmit,dataInstance:this.dataInstance,onCancel:this.handleCancel},o.createElement(v.a.Item,{label:"Name",name:"name"},o.createElement(b.a,null)),o.createElement(v.a.Item,{label:"Second",name:"second"},o.createElement(b.a,null)),o.createElement(v.a.Item,{label:"Email",name:"email"},o.createElement(b.a,null)))}},{key:"componentDidMount",value:function(){this.dataInstance.setItem({})}}]),n}(o.Component),T=Object(y.a)(k.prototype,"created",[O.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=Object(y.a)(k.prototype,"cancel",[O.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=k))||S,B=n(1987),F=n(1983),H=n(80),z=n(221),W=Object(c.a)((x=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),Object(h.a)(e,"selectedRowKey",_,Object(m.a)(e)),e.users=Object(s.collection)("user"),e.showDeletionDialog=function(t){B.a.confirm({title:"Are you sure you want to delete ".concat(t.name,"?"),okText:"Delete",cancelText:"Cancel",onOk:function(){return e.selectedRowKey=void 0,e.users.delete(t)}})},e.handleRowSelectionChange=function(t){e.selectedRowKey=t[0]},e.deleteSelectedRow=function(){e.showDeletionDialog(e.getRecordById(e.selectedRowKey))},e}return Object(d.a)(n,[{key:"render",value:function(){return o.createElement(C,{dataCollection:this.users,fields:["name","second","email"],onRowSelectionChange:this.handleRowSelectionChange,buttons:o.createElement(F.a,{align:"baseline"},o.createElement(H.b,{to:Y.PATH+"/"+Y.CREATE_SUBPATH,key:"create"},o.createElement(P.a,{type:"primary",icon:o.createElement(z.PlusOutlined,null)},"Create")),o.createElement(H.b,{to:Y.PATH+"/"+this.selectedRowKey,key:"edit"},o.createElement(P.a,{disabled:!this.selectedRowKey,type:"default"},"Edit")),o.createElement(P.a,{style:{margin:"0 12px 12px 0"},disabled:!this.selectedRowKey,onClick:this.deleteSelectedRow,key:"remove",type:"default"},"Remove"))})}},{key:"getRecordById",value:function(e){var t=this.users.items.find((function(t){return t.id===e}));if(!t)throw new Error("Cannot find entity with id "+e);return t}}]),n}(o.Component),_=Object(y.a)(x.prototype,"selectedRowKey",[O.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=x))||D,J=Object(c.a)((L=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).dataInstance=Object(s.instance)("user"),Object(h.a)(e,"updated",M,Object(m.a)(e)),Object(h.a)(e,"cancel",U,Object(m.a)(e)),e.handleSubmit=function(t){e.dataInstance.update(t).then((function(t){e.updated=!0}))},e.handleCancel=function(){e.cancel=!0},e}return Object(d.a)(n,[{key:"render",value:function(){return this.updated||this.cancel?o.createElement(u.a,{to:Y.PATH}):o.createElement(I,{layout:"vertical",submitButtonText:"Save",onFinish:this.handleSubmit,dataInstance:this.dataInstance,onCancel:this.handleCancel},o.createElement(v.a.Item,{label:"Name",name:"name"},o.createElement(b.a,null)),o.createElement(v.a.Item,{label:"Second",name:"second"},o.createElement(b.a,null)),o.createElement(v.a.Item,{label:"Email",name:"email"},o.createElement(b.a,null)))}},{key:"componentDidMount",value:function(){this.dataInstance.load(this.props.resourceId)}}]),n}(o.Component),M=Object(y.a)(L.prototype,"updated",[O.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Object(y.a)(L.prototype,"cancel",[O.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=L))||K,q=n(1985),Y=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.match.params.resourceId;return o.createElement(q.a,{title:"Some crud test"},e?e==n.CREATE_SUBPATH?o.createElement(G,null):o.createElement(J,{resourceId:e}):o.createElement(W,null))}}]),n}(o.Component);Y.PATH="/crud",Y.CREATE_SUBPATH="create",Y.ROUTE=Y.PATH+"/:resourceId?";var V=n(22),$=Object(s.injectAppStore)(Object(c.a)((function(e){e.appStore;return o.createElement("div",{className:"App"},o.createElement(V.a,{componentSize:"small"},o.createElement(u.d,null,o.createElement(u.b,{path:Y.ROUTE,component:Y}),o.createElement(u.a,{from:"/",to:"/crud",exact:!0}))))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=n(223),X=n(177),Z=n(161),ee=n(1989);var te=new Q.Application("/api/","en",window.localStorage);Object(Z.c)({models:{user:Z.b},factories:{user:Z.a.extend({id:function(){return Object(ee.a)().toString()},name:function(e){return"User ".concat(e)},second:function(e){return"Second ".concat(e)},email:function(e){return"email ".concat(e)}})},namespace:"api",routes:function(){this.post("/login",(function(){return{token:"test_token"}})),this.get("/user",(function(e,t){var n=t.queryParams.limit?+t.queryParams.limit:10,o=t.queryParams.offset?+t.queryParams.offset:0,r=function(e,t){var n,o=!0;if(!t)return e;t.startsWith("-")&&(o=!1),n=t.slice(1);var r=o?1:-1;return e.sort((function(e,t){var o=e[n],i=t[n];return o===i?0:null==o&&null!=i?1*r:null==i?null!=o?-1*r:0:o<i?-1*r:o>i?1*r:0}))}(e.users.all().models,t.queryParams.sort);return{data:r.slice(o,o+n),count:r.length}})),this.get("/user/:id",(function(e,t){return e.users.find(t.params.id).attrs})),this.put("/user/:id",(function(e,t){var n=JSON.parse(t.requestBody);return e.users.find(t.params.id).update(n),{}})),this.post("/user/",(function(e,t){var n=JSON.parse(t.requestBody);return e.users.create(Object(X.a)(Object(X.a)({},n),{},{id:Object(ee.a)().toString()})),{}})),this.delete("/user/:id",(function(e,t){return e.users.find(t.params.id).destroy(),{}}))},seeds:function(e){e.createList("user",38)}}),a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.AppProvider,{rest:te},r.a.createElement(H.a,null,r.a.createElement(u.b,{component:$})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},223:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;var a=n(1976),c=n(1977);i(n(1978),t);var s=function(){function e(e,t,n){void 0===e&&(e="/api/"),void 0===t&&(t="en"),void 0===n&&(n=new a.DefaultStorage),this.apiUrl=e,this.defaultLocale=t,this.storage=n,this.tokenExpiryListeners=[]}return Object.defineProperty(e.prototype,"authToken",{get:function(){return this.storage.getItem(e.AUTH_TOKEN_STORAGE_KEY)},set:function(t){this.storage.setItem(e.AUTH_TOKEN_STORAGE_KEY,t)},enumerable:!1,configurable:!0}),e.prototype.login=function(t,n){var o=this,r={method:"POST",body:JSON.stringify({username:t,password:n})};return fetch(this.apiUrl+"login/",r).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){return o.authToken=e.token,e}))},e.prototype.all=function(e,t,n){return this.fetch("GET",e,t,n)},e.prototype.allWithoutCount=function(e,t,n){return this.fetch("GET",e,t,n)},e.prototype.search=function(e,t,n,r){var i=o(o({},n),{filter:t});return this.fetch("GET",e,i,r)},e.prototype.one=function(e,t,n,o){var r=n&&n.view?n.view+"/":"";return this.fetch("GET",e+"/"+r+t,null,o)},e.prototype.delete=function(e,t,n){return this.fetch("DELETE",e+"/"+t,null,n)},e.prototype.save=function(e,t,n){var o=(null!==n&&void 0!==n?n:{}).saveMode;return"update"===o||null==o&&null!=t.id?this.fetch("PUT",e+"/"+t.id,JSON.stringify(t),n):this.fetch("POST",e+"/",JSON.stringify(t),n)},e.prototype.action=function(e,t,n,o,r){var i=null!=o?JSON.stringify(o):null,a=t&&null!=t.id?t.id+"/":"";return this.fetch("POST",e+a+n+"/",i,r)},e.prototype.logout=function(){return this.clearAuthData(),Promise.resolve()},e.prototype.fetch=function(t,n,r,i){var a=this,s=this.apiUrl+n,u=o({method:t,headers:{"Accept-Language":this.defaultLocale}},i);return this.authToken&&(u.headers.Authorization="Bearer "+this.authToken),"POST"!==t&&"PUT"!==t||(u.body=r,u.headers["Content-Type"]="application/json; charset=UTF-8"),"GET"===t&&r&&Object.keys(r).length>0&&(s+="?"+c.encodeGetParams(r)),fetch(s,u).then(e.checkStatus).catch((function(t){e.isTokenExpiredResponse(t.response)&&(a.clearAuthData(),a.tokenExpiryListeners.forEach((function(e){return e()})))})).then((function(e){return e.json()}))},e.isTokenExpiredResponse=function(e){return e&&401===e.status},e.prototype.clearAuthData=function(){this.storage.removeItem(e.AUTH_TOKEN_STORAGE_KEY)},e.checkStatus=function(e){return e.status>=200&&e.status<300?e:Promise.reject({message:e.statusText,response:e})},e.prototype.onTokenExpiry=function(e){var t=this;return this.tokenExpiryListeners.push(e),function(){return t.tokenExpiryListeners.splice(t.tokenExpiryListeners.indexOf(e),1)}},e.AUTH_TOKEN_STORAGE_KEY="authToken",e}();t.Application=s},240:function(e,t,n){e.exports=n(1981)},246:function(e,t,n){},46:function(e,t,n){"use strict";var o=n(126);n.d(t,"injectAppStore",(function(){return o.b}));var r=n(179);n.d(t,"AppProvider",(function(){return r.a})),n.d(t,"getRest",(function(){return r.b}));var i=n(180);n.d(t,"collection",(function(){return i.a}));var a=n(181);n.d(t,"instance",(function(){return a.a}));n(182)}},[[240,1,2]]]);
//# sourceMappingURL=main.2d839f2e.chunk.js.map