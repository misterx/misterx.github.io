(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{190:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r,o,a=n(0),i=n(95),c=n(104),s=a.createContext({}),l=function(e){var t=e.rest,n=e.children,l=e.metadata;return r=t,(o=l?new i.b(r,l):new i.a(r)).initialize(),a.createElement(s.Provider,{value:{rest:t}},a.createElement(c.a,{appStore:o},n))};function u(){return r}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(35),o=n(36),a=n(9),i=n(27),c=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=function(){function e(t,n,o){var c=this;Object(r.a)(this,e),this.resourceName=t,this.items=[],this.status="CLEAN",this.load=function(){var e;return c.status="LOADING",(e=c.filter?c.handleLoadingWithCount(Object(i.getRest)().search(c.resourceName,c.filter,c.collectionOptions,{relatedOptions:c.related})):!0===c.skipCount?c.handleLoadingNoCount(Object(i.getRest)().allWithoutCount(c.resourceName,c.collectionOptions,{relatedOptions:c.related})):c.handleLoadingWithCount(Object(i.getRest)().all(c.resourceName,c.collectionOptions,{relatedOptions:c.related}))).catch((function(){return Object(a.p)((function(){c.status="ERROR"}))})),e},this.clear=function(){c.items=[],c.status="CLEAN",c.count=void 0},this.delete=function(e){if(null==e||null==e.id)throw new Error("Unable to delete entity without ID");return c.status="LOADING",Object(i.getRest)().delete(c.resourceName,e.id).then(Object(a.f)((function(){return c.load(),!0}))).catch(Object(a.f)((function(){return c.status="ERROR",!0})))},this.view=n,this.sort=o}return Object(o.a)(e,[{key:"search",value:function(e){return this.filter=e,this.load()}},{key:"handleLoadingWithCount",value:function(e){var t=this;return e.then((function(e){Object(a.p)((function(){t.items=l(e.data,t.keyField,t.valueField),t.count=e.count,t.status="DONE"}))}))}},{key:"handleLoadingNoCount",value:function(e){var t=this;return e.then((function(e){Object(a.p)((function(){t.items=l(e,t.keyField,t.valueField),t.count=void 0,t.status="DONE"}))}))}},{key:"collectionOptions",get:function(){return{view:this.view,sort:this.sort,limit:this.limit,offset:this.offset}}}]),e}();function l(e,t,n){return null!=t&&"id"!==t||null!=n?e.map((function(e){var r=e;return null!=t&&(r[t]=r.id),null==n||r._resourceName||(r._resourceName=r[n]),r})):e}c([a.o],s.prototype,"items",void 0),c([a.o],s.prototype,"status",void 0),c([a.o],s.prototype,"view",void 0),c([a.o],s.prototype,"sort",void 0),c([a.o],s.prototype,"filter",void 0),c([a.o],s.prototype,"limit",void 0),c([a.o],s.prototype,"offset",void 0),c([a.o],s.prototype,"count",void 0),c([a.o],s.prototype,"skipCount",void 0),c([a.o],s.prototype,"keyField",void 0),c([a.o],s.prototype,"valueField",void 0),c([a.o],s.prototype,"related",void 0),c([a.f],s.prototype,"load",void 0),c([a.f],s.prototype,"search",null),c([a.f],s.prototype,"clear",void 0),c([a.f],s.prototype,"delete",void 0);var u={loadImmediately:!0};function d(e,t){null!=t.view&&(e.view=t.view),null!=t.filter&&(e.filter=t.filter),null!=t.sort&&(e.sort=t.sort),null!=t.limit&&(e.limit=t.limit),null!=t.offset&&(e.offset=t.offset),null!=t.keyField&&(e.keyField=t.keyField),null!=t.valueField&&(e.valueField=t.valueField),("undefined"===typeof t.loadImmediately||t.loadImmediately)&&e.load()}var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=new s(e);return d(n,t),n},f=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u,a=new s(e);return a.related={fromResource:t,fromResourceId:n,fromResourceRelation:r},d(a,o),a}},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(35),o=n(36),a=n(9),i=n(27),c=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=function(){function e(t,n){var o=this;Object(r.a)(this,e),this.resourceName=t,this.status="CLEAN",this.load=function(e){o.item=void 0,e&&(o.status="LOADING",Object(i.getRest)().one(o.resourceName,e,{view:o.view},{relatedOptions:o.related}).then((function(e){Object(a.p)((function(){o.item=e,o.status="DONE"}))})).catch((function(){Object(a.p)((function(){o.status="ERROR"}))})))},this.view=n}return Object(o.a)(e,[{key:"setItem",value:function(e){this.item=e,this.status="DONE"}},{key:"create",value:function(e){var t=this;return Object.assign(this.item,e),null==this.item?Promise.reject():(this.status="LOADING",Object(i.getRest)().create(this.resourceName,this.item,{relatedOptions:this.related}).then((function(e){return Object(a.p)((function(){t.status="DONE"})),e})).catch((function(e){return t.status="ERROR",Promise.reject(e)})))}},{key:"update",value:function(e){var t=this;return Object.assign(this.item,e),null==this.item?Promise.reject():(this.status="LOADING",Object(i.getRest)().update(this.resourceName,this.item,{relatedOptions:this.related}).then((function(e){return Object(a.p)((function(){t.status="DONE"})),e})).catch((function(e){return t.status="ERROR",Promise.reject(e)})))}}]),e}();function l(e,t){var n=new s(e);return t&&null!=t.view&&(n.view=t.view),n}c([a.o],s.prototype,"item",void 0),c([a.o],s.prototype,"status",void 0),c([a.o],s.prototype,"view",void 0),c([a.o],s.prototype,"related",void 0),c([a.f],s.prototype,"load",void 0),c([a.f],s.prototype,"setItem",null),c([a.f],s.prototype,"create",null),c([a.f],s.prototype,"update",null)},1925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStorage=void 0;var r=function(){function e(){this.items={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.items).length},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.items={}},e.prototype.getItem=function(e){return this.items[e]},e.prototype.key=function(e){throw new Error("Unsupported operation")},e.prototype.removeItem=function(e){delete this.items[e]},e.prototype.setItem=function(e,t){this.items[e]=t},e}();t.DefaultStorage=r},1926:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeGetParams=void 0,t.encodeGetParams=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(function(e){if(null==e)return"";if("object"===typeof e)return JSON.stringify(e);return e}(e[t]))})).join("&")}},1927:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1928:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},193:function(e,t){},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(104),o=n(0),a=n(95),i=Object(a.c)(Object(r.c)((function(e){var t=e.entityName,n=e.propertyName,r=e.appStore;if(null==r||null==r.messages)return o.createElement(o.Fragment,null,n);var a=r.messages[t+"."+n];return null!=a?o.createElement(o.Fragment,null,a):o.createElement(o.Fragment,null,n)})))},195:function(e,t,n){"use strict";function r(e,t,n){var r=e.find((function(e){return e.name===t}));return null==r?null:r.properties.find((function(e){return e.name===n}))||null}n.d(t,"a",(function(){return r}))},263:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;var c=n(1925),s=n(1926);a(n(1927),t),a(n(1928),t);var l=function(){function e(e,t,n){void 0===e&&(e="/api/"),void 0===t&&(t="en"),void 0===n&&(n=new c.DefaultStorage),this.apiUrl=e,this.defaultLocale=t,this.storage=n,this.tokenExpiryListeners=[]}return Object.defineProperty(e.prototype,"authToken",{get:function(){return this.storage.getItem(e.AUTH_TOKEN_STORAGE_KEY)},set:function(t){this.storage.setItem(e.AUTH_TOKEN_STORAGE_KEY,t)},enumerable:!1,configurable:!0}),e.prototype.login=function(t,n){var r=this,o={method:"POST",body:JSON.stringify({username:t,password:n})};return fetch(this.apiUrl+"login/",o).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){return r.authToken=e.token,e}))},e.prototype.all=function(e,t,n){return this.fetch("GET",this.resourceUrl(e,n),t,n)},e.prototype.allWithoutCount=function(e,t,n){return this.fetch("GET",this.resourceUrl(e,n),t,n)},e.prototype.resourceUrl=function(e,t){if(!t||!t.relatedOptions)return e;var n=t.relatedOptions;return n.fromResource+"/"+n.fromResourceId+"/"+n.fromResourceRelation},e.prototype.search=function(e,t,n,o){var a=r(r({},n),{criteria:t});return this.fetch("GET",this.resourceUrl(e,o)+"/search",a,o)},e.prototype.one=function(e,t,n,r){return this.fetch("GET",this.resourceUrl(e,r)+"/"+t,n,r)},e.prototype.delete=function(e,t,n){return this.fetch("DELETE",this.resourceUrl(e,n)+"/"+t,null,n)},e.prototype.save=function(e,t,n){var r=null!==n&&void 0!==n?n:{},o=r.saveMode,a=i(r,["saveMode"]);return"update"===o||null==o&&null!=t.id?this.update(e,t,a):this.create(e,t,a)},e.prototype.update=function(e,t,n){return this.fetch("PUT",this.resourceUrl(e,n)+"/"+t.id,JSON.stringify(t),n)},e.prototype.create=function(e,t,n){return this.fetch("POST",this.resourceUrl(e,n)+"/",JSON.stringify(t),n)},e.prototype.logout=function(){return this.clearAuthData(),Promise.resolve()},e.prototype.loadMetadata=function(e){return this.fetch("GET","_meta/entities")},e.prototype.fetch=function(t,n,o,a){var i=this,c=this.apiUrl+n,l=r({method:t,headers:{"Accept-Language":this.defaultLocale}},a);return this.authToken&&(l.headers.Authorization="Bearer "+this.authToken),"POST"!==t&&"PUT"!==t||(l.body=o,l.headers["Content-Type"]="application/json; charset=UTF-8"),"GET"===t&&o&&Object.keys(o).length>0&&(c+="?"+s.encodeGetParams(o)),fetch(c,l).then(e.checkStatus).catch((function(t){e.isTokenExpiredResponse(t.response)&&(i.clearAuthData(),i.tokenExpiryListeners.forEach((function(e){return e()})))})).then((function(e){return e.json()}))},e.isTokenExpiredResponse=function(e){return e&&401===e.status},e.prototype.clearAuthData=function(){this.storage.removeItem(e.AUTH_TOKEN_STORAGE_KEY)},e.checkStatus=function(e){return e.status>=200&&e.status<300?e:Promise.reject({message:e.statusText,response:e})},e.prototype.onTokenExpiry=function(e){var t=this;return this.tokenExpiryListeners.push(e),function(){return t.tokenExpiryListeners.splice(t.tokenExpiryListeners.indexOf(e),1)}},e.AUTH_TOKEN_STORAGE_KEY="authToken",e}();t.Application=l},27:function(e,t,n){"use strict";var r=n(95);n.d(t,"injectAppStore",(function(){return r.c}));var o=n(190);n.d(t,"AppProvider",(function(){return o.a})),n.d(t,"getRest",(function(){return o.b}));var a=n(191);n.d(t,"collection",(function(){return a.a})),n.d(t,"relatedCollection",(function(){return a.b}));var i=n(192);n.d(t,"instance",(function(){return i.a}));var c=n(193);n.o(c,"Msg")&&n.d(t,"Msg",(function(){return c.Msg})),n.o(c,"getPropertyInfo")&&n.d(t,"getPropertyInfo",(function(){return c.getPropertyInfo}));var s=n(194);n.d(t,"Msg",(function(){return s.a}));var l=n(195);n.d(t,"getPropertyInfo",(function(){return l.a}))},273:function(e){e.exports=JSON.parse('{"a":[{"name":"users","properties":[{"name":"id","type":"uuid","description":"","attributeType":"DATATYPE","cardinality":"NONE","mandatory":true},{"name":"name","type":"string","description":"","attributeType":"DATATYPE","cardinality":"NONE","mandatory":true},{"name":"posts","type":"posts","attributeType":"COMPOSITION","cardinality":"ONE_TO_MANY"}]},{"name":"posts","properties":[{"name":"id","type":"uuid","description":"","attributeType":"DATATYPE","cardinality":"NONE","mandatory":true},{"name":"title","type":"string","description":"","attributeType":"DATATYPE","cardinality":"NONE","mandatory":true},{"name":"body","type":"string","description":"","attributeType":"DATATYPE","cardinality":"NONE","mandatory":true},{"name":"author","type":"users","description":"","attributeType":"ASSOCIATION","cardinality":"MANY_TO_ONE","mandatory":true}]}]}')},281:function(e,t,n){e.exports=n(2977)},287:function(e,t,n){},288:function(e,t,n){},2977:function(e,t,n){"use strict";n.r(t),n.d(t,"rest",(function(){return ze}));var r=n(0),o=n.n(r),a=n(29),i=n.n(a),c=(n(286),n(287),n(288),n(39)),s=n(27),l=n(56),u=n(44),d=n(2981),p=n(255),f=n(21),m=n(73),h=n(35),y=n(36),b=n(41),O=n(40),v=n(54),g=n(46),E=n(55),j=(n(101),n(242)),w=n(2986),R=n(12),C=n(2982);function N(e){var t=e.pagination,n=(e.filters,e.sorter),r=e.defaultSort,o=(e.fields,e.dataCollection);return function(e,t,n){if(Array.isArray(e)&&(e=e[0]),e&&e.order){var r="descend"===e.order?"-":"+",o=e.field;n.sort=r+o}else n.sort=t}(n,r,o),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.disabled,o=e.pageSize,a=e.current;if(!0===r)return t.limit=void 0,t.offset=void 0,t.skipCount=!0,void(n&&t.load());t.skipCount&&(t.skipCount=!1);o&&a&&(t.limit=o,t.offset=o*(a-1));n&&t.load()}(t,o),o.load()}function S(e){return"string"===typeof e?e:e.field}var k=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},T=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(e){var r;Object(h.a)(this,n),(r=t.call(this,e)).selectedRowKeys=[],r.disposers=[],r.onChange=function(e,t,n){var o=Object(g.a)(r);N({pagination:e,filters:t,sorter:n,defaultSort:o.defaultSort,fields:o.fields,dataCollection:r.props.dataCollection})},r.onRowSelectionColumnClicked=function(e){r.isRowSelectionEnabled&&(r.selectedRowKeys=e)},r.onRow=function(e){return{onClick:function(){return r.onRowClicked(e)}}},r.onRowClicked=function(e){if(r.isRowSelectionEnabled){var t=r.constructRowKey(e),n=r.selectedRowKeys.slice();switch(r.props.rowSelectionMode){case"multi":var o=r.selectedRowKeys.indexOf(t);o>-1?n.splice(o,1):n.push(t);break;case"single":r.selectedRowKeys.length>0&&r.selectedRowKeys[0]===t?n=[]:n[0]=t}r.selectedRowKeys=n}},r.onRowSelectionChange=function(){switch(r.props.rowSelectionMode){case void 0:throw new Error("".concat(r.errorContext," rowSelectionMode is not expected to be ").concat(r.props.rowSelectionMode," at this point"));case"none":return;case"multi":case"single":r.props.onRowSelectionChange&&r.props.onRowSelectionChange(r.selectedRowKeys);break;default:new Error(r.errorContext+" rowSelectionMode:"+r.props.rowSelectionMode)}};var o=r.props.dataCollection.sort;return r.defaultSort=o,r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.disposers.push(Object(R.o)((function(){return e.props.dataCollection.status}),(function(t){"ERROR"===t&&j.a.error(e.errorContext+"Loading failed")}))),this.disposers.push(Object(R.o)((function(){return e.selectedRowKeys}),this.onRowSelectionChange)),this.disposers.push(Object(R.o)((function(){return e.props.rowSelectionMode}),(function(){e.selectedRowKeys=[]})))}},{key:"componentWillUnmount",value:function(){this.disposers.forEach((function(e){return e()}))}},{key:"render",value:function(){var e=this,t=this.props.dataCollection,n={loading:"LOADING"===t.status,dataSource:t.items,pagination:this.paginationConfig,rowKey:function(t){return e.constructRowKey(t)},columns:this.generateColumnProps,onChange:this.onChange};this.isRowSelectionEnabled&&(n=Object.assign(Object.assign({},n),{rowSelection:{type:this.rowSelectionType,selectedRowKeys:this.selectedRowKeys,onChange:this.onRowSelectionColumnClicked}}),this.props.canSelectRowByClick&&(n=Object.assign(Object.assign({},n),{onRow:this.onRow})));var o=Object.assign(Object.assign({},n),this.props.tableProps);return r.createElement("div",{className:"tpg-ui-data-table"},r.createElement("div",{className:"buttons"},this.props.buttons),r.createElement(C.a,Object.assign({},o)))}},{key:"constructRowKey",value:function(e){return e.id}},{key:"errorContext",get:function(){return"[DataTable, resource: ".concat(this.props.dataCollection.resourceName,"]")}},{key:"rowSelectionType",get:function(){switch(this.props.rowSelectionMode){case"multi":return"checkbox";case"single":return"radio";default:throw new Error("".concat(this.errorContext," rowSelectionMode is not expected to be ").concat(this.props.rowSelectionMode," at this point"))}}},{key:"paginationConfig",get:function(){return{showSizeChanger:!1,total:this.props.dataCollection.count}}},{key:"fields",get:function(){var e=this.props.columnDefinitions;if(!e)throw new Error("".concat(this.errorContext,"] Neither field name nor columnProps were provided"));return function(e){return e.reduce((function(e,t){var n=S(t);return null!=n&&e.push(n),e}),[])}(e)}},{key:"generateColumnProps",get:function(){var e=this.props,t=e.dataCollection,n=e.columnDefinitions;if(!n)throw new Error("".concat(this.errorContext,"] Neither field name nor columnProps were provided"));return function(e,t){if(!t)throw new Error("[DataTable.generateColumnProps, resource: ".concat(e,"] ").concat(T.NO_COLUMN_DEF_ERROR));return t.map((function(t){var n=S(t),r=t.columnProps;if(null!=n){var o=function(e){var t=e.propertyName;return{title:t,dataIndex:t,sorter:e.sortable,key:t}}({resourceName:e,propertyName:n,sortable:!0});return Object.assign(Object.assign({},o),r||[])}if(null!=r)return r;throw new Error("[DataTable.generateColumnProps, resource: ".concat(e,"] Neither field name nor columnProps were provided"))}))}(t.resourceName,n)}},{key:"isRowSelectionEnabled",get:function(){if(!this.props.rowSelectionMode)throw new Error("".concat(this.errorContext," rowSelectionMode is expected to be defined at this point"));return["single","multi"].indexOf(this.props.rowSelectionMode)>-1}}]),n}(r.Component);T.NO_COLUMN_DEF_ERROR="You need to provide either columnDefinitions or fields prop",T.defaultProps={rowSelectionMode:"single",canSelectRowByClick:!0,hideSelectionColumn:!1,hideClearFilters:!1},k([R.n],T.prototype,"selectedRowKeys",void 0),k([R.g],T.prototype,"paginationConfig",null),k([R.g],T.prototype,"fields",null),k([R.f],T.prototype,"onChange",void 0),k([R.g],T.prototype,"generateColumnProps",null),k([R.f],T.prototype,"onRowSelectionColumnClicked",void 0),k([R.f],T.prototype,"onRow",void 0),k([R.f],T.prototype,"onRowClicked",void 0),T=k([c.a],T);var A=n(2983),P=n(50),I=n(2985),M=n(125),D=n(188),x=n(2980),_=n(123),K=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},F=Object(c.a)((function(e){var t=e.optionsContainer,n=K(e,["optionsContainer"]);return r.createElement(_.a,Object.assign({},n,{loading:t&&"LOADING"===t.status}),t&&t.items.map((function(e){return r.createElement(_.a.Option,{value:e.id,key:e.id},e._resourceName)})))})),L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},U=Object(s.injectAppStore)(Object(c.a)((function(e){var t=e.resourceName,n=e.propertyName,o=(e.disabled,e.appStore),a=e.optionsContainer,i=(e.nestedEntityView,L(e,["resourceName","propertyName","disabled","appStore","optionsContainer","nestedEntityView"]));if(null==o||null==o.metadata)return r.createElement(I.a,Object.assign({},i));var c,l=Object(s.getPropertyInfo)(o.metadata,t,n);if(!l)return r.createElement(I.a,Object.assign({},i));switch(l.attributeType){case"ASSOCIATION":var u=function(e){if("ONE_TO_MANY"===e||"MANY_TO_MANY"===e)return"multiple";return"default"}(l.cardinality);return r.createElement(F,Object.assign({},{mode:u,optionsContainer:a},{allowClear:(c=l,!c.mandatory)},i));case"COMPOSITION":throw new Error("Composition input not implemented yet");case"ENUM":throw new Error("ENUM input not implemented yet")}switch(l.type){case"boolean":return r.createElement(M.a,Object.assign({},i));case"date":return r.createElement(D.a,Object.assign({},i));case"dateTime":return r.createElement(D.a,Object.assign({},Object.assign({showTime:!0},i)));case"time":return r.createElement(x.a,Object.assign({},i))}return r.createElement(I.a,Object.assign({},i))}))),B=Object(s.injectAppStore)(Object(c.a)((function(e){var t=e.resourceName,n=e.propertyName,o=e.appStore,a=(e.children,e.optionsContainer),i=e.componentProps,c=(e.disabled,function(e,t,n){var r={name:n};if(!e)return r;var o=Object(s.getPropertyInfo)(e,t,n);if(!o)return r;return r.rules=o.mandatory?[{required:!0}]:void 0,r}(null===o||void 0===o?void 0:o.metadata,t,n)),l=Object.assign({},e.formItemOpts);return l.label||(l.label=r.createElement(s.Msg,{entityName:t,propertyName:n})),r.createElement(A.a.Item,Object.assign({},Object.assign(Object.assign({},c),l)),r.createElement(U,Object.assign({resourceName:t,propertyName:n,optionsContainer:a},i)))})));var H=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},G=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.apply(this,arguments)).formRef=r.createRef(),e}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dataInstance,n=e.onCancel,o=e.submitButtonText,a=e.children,i=z(e,["dataInstance","onCancel","submitButtonText","children"]),c=t.status;return r.createElement(A.a,Object.assign({ref:this.formRef,layout:"vertical",className:"resource-form"},i),a,r.createElement(A.a.Item,{className:"actions"},r.createElement(P.a,{type:"primary",htmlType:"submit",disabled:"DONE"!==c&&"ERROR"!==c,loading:"LOADING"===c},o),r.createElement(P.a,{htmlType:"button",onClick:n},"Cancel")))}},{key:"componentDidMount",value:function(){var e=this;this.reactionDisposer=Object(R.o)((function(){return e.props.dataInstance.item}),(function(){e.props.dataInstance.item&&e.formRef.current.setFieldsValue(e.props.dataInstance.item)}))}},{key:"componentWillUnmount",value:function(){this.reactionDisposer()}}]),n}(r.Component);G=H([c.a],G);var q,Y,J,W,V=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},$=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.apply(this,arguments)).performingLoginRequest=!1,e.onFinish=function(t){e.props.appStore.login(t.login,t.password).then(Object(R.f)((function(){e.performingLoginRequest=!1}))).catch(Object(R.f)((function(){e.performingLoginRequest=!1,j.a.error("login failed")})))},e}return Object(y.a)(n,[{key:"render",value:function(){return r.createElement("div",{className:"Login",style:{minWidth:"300px"}},r.createElement(A.a,{layout:"vertical",onFinish:this.onFinish},r.createElement(A.a.Item,{style:{marginBottom:0}},r.createElement(I.a,{placeholder:"Login",autoFocus:!0,size:"large"})),r.createElement(A.a.Item,null,r.createElement(I.a,{placeholder:"Password",type:"password",size:"large"})),r.createElement(A.a.Item,null,r.createElement(P.a,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:this.performingLoginRequest},"Submit"))))}}]),n}(r.Component);V([R.n],$.prototype,"performingLoginRequest",void 0),V([R.f],$.prototype,"onFinish",void 0),$=V([s.injectAppStore,c.a],$);var Q,X,Z,ee,te,ne,re,oe,ae,ie,ce,se=Object(c.a)((Y=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).dataInstance=Object(s.instance)(fe.NAME),Object(v.a)(e,"created",J,Object(g.a)(e)),Object(v.a)(e,"cancel",W,Object(g.a)(e)),e.handleSubmit=function(t){e.dataInstance.create(t).then((function(t){e.created=!0})).catch((function(e){j.a.error(e.toLocaleString())}))},e.handleCancel=function(){e.cancel=!0},e}return Object(y.a)(n,[{key:"render",value:function(){if(this.created||this.cancel)return r.createElement(u.a,{to:fe.PATH});var e=this.dataInstance.resourceName;return r.createElement(w.a,{ghost:!1,title:"New user",onBack:function(){return window.history.back()}},r.createElement(G,{layout:"vertical",submitButtonText:"Save",onFinish:this.handleSubmit,dataInstance:this.dataInstance,onCancel:this.handleCancel},r.createElement(B,{resourceName:e,propertyName:"name"})))}},{key:"componentDidMount",value:function(){this.dataInstance.setItem({})}}]),n}(r.Component),J=Object(E.a)(Y.prototype,"created",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(E.a)(Y.prototype,"cancel",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=Y))||q,le=Object(c.a)((X=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).dataInstance=Object(s.instance)(fe.NAME),e.posts=Object(s.relatedCollection)("posts",fe.NAME,e.props.resourceId,"posts"),Object(v.a)(e,"updated",Z,Object(g.a)(e)),Object(v.a)(e,"cancel",ee,Object(g.a)(e)),e.handleSubmit=function(t){e.dataInstance.update(t).then((function(t){e.updated=!0}))},e.handleCancel=function(){e.cancel=!0},e}return Object(y.a)(n,[{key:"render",value:function(){if(this.updated||this.cancel)return r.createElement(u.a,{to:fe.PATH});var e=this.dataInstance.resourceName;return r.createElement(w.a,{ghost:!1,title:"Edit user",onBack:function(){return window.history.back()}},r.createElement(G,{layout:"vertical",submitButtonText:"Save",onFinish:this.handleSubmit,dataInstance:this.dataInstance,onCancel:this.handleCancel},r.createElement(B,{resourceName:e,propertyName:"name"}),r.createElement(A.a.Item,{label:r.createElement(s.Msg,{propertyName:"posts",entityName:fe.NAME})},r.createElement(T,{dataCollection:this.posts,columnDefinitions:["title"],rowSelectionMode:"none"}))))}},{key:"componentDidMount",value:function(){this.dataInstance.load(this.props.resourceId)}}]),n}(r.Component),Z=Object(E.a)(X.prototype,"updated",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=Object(E.a)(X.prototype,"cancel",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=X))||Q,ue=n(2984),de=n(158),pe=Object(c.a)((ne=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(v.a)(e,"selectedRowKey",re,Object(g.a)(e)),e.collection=Object(s.collection)(fe.NAME),e.showDeletionDialog=function(t){ue.a.confirm({title:"Are you sure you want to delete ".concat(t.name,"?"),okText:"Delete",cancelText:"Cancel",onOk:function(){return e.selectedRowKey=void 0,e.collection.delete(t)}})},e.handleRowSelectionChange=function(t){e.selectedRowKey=t[0]},e.deleteSelectedRow=function(){e.showDeletionDialog(e.getRecordById(e.selectedRowKey))},e}return Object(y.a)(n,[{key:"render",value:function(){return r.createElement(w.a,{ghost:!1,title:"Users management",extra:[r.createElement(r.Fragment,null,r.createElement(l.b,{to:fe.CREATE_PATH,key:"create"},r.createElement(P.a,{type:"primary",icon:r.createElement(de.PlusOutlined,null)},"Create"))),r.createElement(r.Fragment,null,r.createElement(l.b,{to:fe.PATH+"/"+this.selectedRowKey,key:"edit"},r.createElement(P.a,{disabled:!this.selectedRowKey,type:"default"},"Edit"))),r.createElement(r.Fragment,null,r.createElement(P.a,{disabled:!this.selectedRowKey,onClick:this.deleteSelectedRow,key:"remove",type:"default"},"Remove"))]},r.createElement(T,{dataCollection:this.collection,columnDefinitions:["name"],hideSelectionColumn:!0,onRowSelectionChange:this.handleRowSelectionChange}))}},{key:"getRecordById",value:function(e){var t=this.collection.items.find((function(t){return t.id===e}));if(!t)throw new Error("Cannot find entity with id "+e);return t}}]),n}(r.Component),re=Object(E.a)(ne.prototype,"selectedRowKey",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ne))||te,fe=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props.match.params.resourceId;return r.createElement(r.Fragment,null,e?e==n.CREATE_SUBPATH?r.createElement(se,null):r.createElement(le,{resourceId:e}):r.createElement(pe,null))}}]),n}(r.Component);fe.NAME="users",fe.PATH="/users",fe.CREATE_SUBPATH="create",fe.CREATE_PATH=fe.PATH+"/"+fe.CREATE_SUBPATH,fe.ROUTE=fe.PATH+"/:resourceId?";var me,he,ye,be,Oe,ve,ge,Ee=Object(c.a)((ae=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).dataInstance=Object(s.instance)(Re.NAME),e.authorDC=Object(s.collection)("users",{valueField:"name"}),Object(v.a)(e,"created",ie,Object(g.a)(e)),Object(v.a)(e,"cancel",ce,Object(g.a)(e)),e.handleSubmit=function(t){e.dataInstance.create(t).then((function(t){e.created=!0})).catch((function(e){j.a.error(e.toLocaleString())}))},e.handleCancel=function(){e.cancel=!0},e}return Object(y.a)(n,[{key:"render",value:function(){if(this.created||this.cancel)return r.createElement(u.a,{to:Re.PATH});var e=this.dataInstance.resourceName;return r.createElement(w.a,{ghost:!1,title:"New publication",onBack:function(){return window.history.back()}},r.createElement(G,{layout:"vertical",submitButtonText:"Save",onFinish:this.handleSubmit,dataInstance:this.dataInstance,onCancel:this.handleCancel},r.createElement(B,{resourceName:e,propertyName:"title"}),r.createElement(A.a.Item,{name:"body",label:r.createElement(s.Msg,{entityName:Re.NAME,propertyName:"body"}),rules:[{required:!0}]},r.createElement(I.a.TextArea,{rows:8})),r.createElement(B,{resourceName:e,propertyName:"author",optionsContainer:this.authorDC})))}},{key:"componentDidMount",value:function(){this.dataInstance.setItem({})}}]),n}(r.Component),ie=Object(E.a)(ae.prototype,"created",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Object(E.a)(ae.prototype,"cancel",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=ae))||oe,je=Object(c.a)((he=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).dataInstance=Object(s.instance)(Re.NAME),e.authorDC=Object(s.collection)("users",{valueField:"name"}),Object(v.a)(e,"updated",ye,Object(g.a)(e)),Object(v.a)(e,"cancel",be,Object(g.a)(e)),e.handleSubmit=function(t){e.dataInstance.update(t).then((function(t){e.updated=!0})).catch((function(e){j.a.error(e.toLocaleString())}))},e.handleCancel=function(){e.cancel=!0},e}return Object(y.a)(n,[{key:"render",value:function(){if(this.updated||this.cancel)return r.createElement(u.a,{to:Re.PATH});var e=this.dataInstance.resourceName;return r.createElement(w.a,{ghost:!1,title:"Modify publication",onBack:function(){return window.history.back()}},r.createElement(G,{layout:"vertical",submitButtonText:"Save",onFinish:this.handleSubmit,dataInstance:this.dataInstance,onCancel:this.handleCancel},r.createElement(B,{resourceName:e,propertyName:"title"}),r.createElement(A.a.Item,{name:"body",label:r.createElement(s.Msg,{entityName:Re.NAME,propertyName:"body"}),rules:[{required:!0}]},r.createElement(I.a.TextArea,{rows:8})),r.createElement(B,{resourceName:e,propertyName:"author",optionsContainer:this.authorDC})))}},{key:"componentDidMount",value:function(){this.dataInstance.load(this.props.resourceId)}}]),n}(r.Component),ye=Object(E.a)(he.prototype,"updated",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=Object(E.a)(he.prototype,"cancel",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=he))||me,we=Object(c.a)((ve=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(v.a)(e,"selectedRowKey",ge,Object(g.a)(e)),e.collection=Object(s.collection)(Re.NAME),e.showDeletionDialog=function(t){ue.a.confirm({title:'Are you sure you want to delete "'.concat(t.title,'"?'),okText:"Delete",cancelText:"Cancel",onOk:function(){return e.selectedRowKey=void 0,e.collection.delete(t)}})},e.handleRowSelectionChange=function(t){e.selectedRowKey=t[0]},e.deleteSelectedRow=function(){e.showDeletionDialog(e.getRecordById(e.selectedRowKey))},e}return Object(y.a)(n,[{key:"render",value:function(){return r.createElement(w.a,{ghost:!1,title:"Publications",extra:[r.createElement(r.Fragment,null,r.createElement(l.b,{to:Re.CREATE_PATH,key:"create"},r.createElement(P.a,{type:"primary",icon:r.createElement(de.PlusOutlined,null)},"Create"))),r.createElement(r.Fragment,null,r.createElement(l.b,{to:Re.PATH+"/"+this.selectedRowKey,key:"edit"},r.createElement(P.a,{disabled:!this.selectedRowKey,type:"default"},"Edit"))),r.createElement(r.Fragment,null,r.createElement(P.a,{disabled:!this.selectedRowKey,onClick:this.deleteSelectedRow,key:"remove",type:"default"},"Remove"))]},r.createElement(T,{dataCollection:this.collection,columnDefinitions:["title",{columnProps:{title:"Author",dataIndex:["author","name"]}}],hideSelectionColumn:!0,onRowSelectionChange:this.handleRowSelectionChange}))}},{key:"getRecordById",value:function(e){var t=this.collection.items.find((function(t){return t.id===e}));if(!t)throw new Error("Cannot find entity with id "+e);return t}}]),n}(r.Component),ge=Object(E.a)(ve.prototype,"selectedRowKey",[R.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=ve))||Oe,Re=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props.match.params.resourceId;return r.createElement(r.Fragment,null,e?e==n.CREATE_SUBPATH?r.createElement(Ee,null):r.createElement(je,{resourceId:e}):r.createElement(we,null))}}]),n}(r.Component);Re.NAME="posts",Re.PATH="/posts",Re.CREATE_SUBPATH="create",Re.CREATE_PATH=Re.PATH+"/"+Re.CREATE_SUBPATH,Re.ROUTE=Re.PATH+"/:resourceId?";var Ce=n(2988),Ne=n(2989);function Se(e){var t=e.children;return r.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},t)}var ke=d.a.Header,Te=d.a.Footer,Ae=(d.a.Sider,d.a.Content),Pe=Object(s.injectAppStore)(Object(c.a)((function(e){var t=e.appStore,n=t,o=n.loginRequired;return n.initialized?o?r.createElement(Se,null,r.createElement($,null)):r.createElement("div",{className:"App"},r.createElement(f.a,{componentSize:"small"},r.createElement(d.a,{style:{minHeight:"100vh"}},r.createElement(ke,null,r.createElement(m.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"]},r.createElement(m.a.Item,{key:"1",icon:r.createElement(Ce.a,null)},r.createElement("span",null,"Publications management"),r.createElement(l.b,{to:"/posts"})),r.createElement(m.a.Item,{key:"2",icon:r.createElement(Ne.a,null)},"Users management",r.createElement(l.b,{to:"/users"})),r.createElement(m.a.Item,{key:"3",style:{float:"right"},onClick:function(){t.logout()}},"Logout"))),r.createElement(Ae,{style:{padding:"50px"}},r.createElement("div",{className:"site-layout-content"},r.createElement(u.d,null,r.createElement(u.b,{path:fe.ROUTE,component:fe}),r.createElement(u.b,{path:Re.ROUTE,component:Re}),r.createElement(u.a,{from:"/",to:"/posts",exact:!0})))),r.createElement(Te,null,"Test application created with @tpg-ui")))):r.createElement(Se,null,r.createElement(p.a,{spinning:!0}))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=n(263),Me=n(172),De=n(75),xe=n(2987),_e=n(126),Ke=n.n(_e);function Fe(){return new De.c(400)}function Le(e,t){var n=e.attrs;return t&&t.map((function(t){n[t]=e[t].attrs})),n}function Ue(e,t){return function(n,r){var o=r.queryParams,a=o.limit,i=o.offset,c=o.sort,s=n[e].all().models;return{data:Be(s,a,i,c).map((function(e){return Le(e,t)})),count:s.length}}}function Be(e,t,n,r){var o=t?+t:10,a=n?+n:0;return function(e,t){var n,r=!0;if(!t)return e;t.startsWith("-")&&(r=!1),n=t.slice(1);var o=r?1:-1;return e.sort((function(e,t){var r=e[n],a=t[n];return r===a?0:null==r&&null!=a?1*o:null==a?null!=r?-1*o:0:r<a?-1*o:r>a?1*o:0}))}(e,r).slice(a,a+o)}var He=n(273),ze=new Ie.Application("/api/","en",window.localStorage);Object(De.e)({logging:!0,models:{user:De.b.extend({posts:Object(De.f)("post")}),post:De.b.extend({author:Object(De.d)("user"),comments:Object(De.f)("comment")}),comment:De.b},factories:{post:De.a.extend({title:function(){return Ke.a.lorem.sentence(6)},body:function(){return Ke.a.lorem.paragraph(5)}})},namespace:"api",routes:function(){this.get("/metadata",Fe),this.post("/login",(function(){return{token:"test_token"}})),this.get("/users",Ue("users")),this.get("/users/:id/posts",(function(e,t){var n=t.queryParams,r=n.limit,o=n.offset,a=n.sort,i=e.users.find(t.params.id).posts.models;return{data:Be(i,r,o,a).map((function(e){return Le(e)})),count:i.length}})),this.get("/users/:id",(function(e,t){return e.users.find(t.params.id).attrs})),this.put("/users/:id",(function(e,t){var n=JSON.parse(t.requestBody);return e.users.find(t.params.id).update(n),{}})),this.post("/users/",(function(e,t){var n=JSON.parse(t.requestBody);return e.users.create(Object(Me.a)({id:Object(xe.a)().toString()},n)),{}})),this.delete("/users/:id",(function(e,t){return e.users.find(t.params.id).destroy(),{}})),this.get("/posts",Ue("posts",["author"])),this.get("/posts/:id",(function(e,t){var n=e.posts.find(t.params.id);return"with-author"==t.queryParams.view?Le(n,["author"]):Object(Me.a)(Object(Me.a)({},n.attrs),{},{author:n.authorId})})),this.put("/posts/:id",(function(e,t){var n=JSON.parse(t.requestBody),r=n.author,o=n.title,a=n.body,i=e.posts.find(t.params.id);return r=e.users.find(r),i.update({author:r,title:o,body:a}),{}})),this.post("/posts/",(function(e,t){var n=JSON.parse(t.requestBody),r=n.author,o=n.title,a=n.body;return r=e.users.find(r),e.posts.create({id:Object(xe.a)().toString(),author:r,title:o,body:a}),{}}))},seeds:function(e){var t=e.create("user",{id:"01de915b-a7b3-41df-b941-60cdf3c019a2",name:Ke.a.name.findName()});e.create("user",{id:"345f607d-642a-4ccd-aa18-8f45bda9da95",name:Ke.a.name.findName()}),e.createList("post",5,{author:t})}}),i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.AppProvider,{rest:ze,metadata:He.a},o.a.createElement(l.a,null,o.a.createElement(u.b,{component:Pe})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(41),o=n(40),a=n(35),i=n(36),c=n(9),s=n(104),l=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},u=function(){function e(t){var n=this;Object(a.a)(this,e),this.rest=t,this.authenticated=!1,this.initialized=!1,this.usingAnonymously=!1,Object(c.g)((function(){n.initialized&&(n.authenticated||n.usingAnonymously)&&n.loadMetadata()}))}return Object(i.a)(e,[{key:"login",value:function(e,t){var n=this;return this.rest.login(e,t).then(Object(c.f)((function(){n.authenticated=!0})))}},{key:"logout",value:function(){return this.usingAnonymously?(this.usingAnonymously=!1,Promise.resolve()):(null!=this.rest.authToken&&(this.authenticated=!1,this.rest.logout()),Promise.resolve())}},{key:"loadMetadata",value:function(){var e=this;this.rest.loadMetadata().then(Object(c.f)((function(t){e.metadata=Object(c.o)(t)})))}},{key:"initialize",value:function(){return null!=this.rest.authToken&&(this.authenticated=!0),this.initialized=!0,Promise.resolve()}},{key:"loginRequired",get:function(){return!this.authenticated&&!this.usingAnonymously}}]),e}();u.NAME="appStore",l([c.o],u.prototype,"authenticated",void 0),l([c.o],u.prototype,"initialized",void 0),l([c.o],u.prototype,"usingAnonymously",void 0),l([c.o],u.prototype,"messages",void 0),l([c.o],u.prototype,"metadata",void 0),l([c.f],u.prototype,"login",null),l([c.f],u.prototype,"logout",null),l([c.f],u.prototype,"loadMetadata",null),l([c.h],u.prototype,"loginRequired",null);var d=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,r){var o;return Object(a.a)(this,n),(o=t.call(this,e)).staticMetadata=r,o}return Object(i.a)(n,[{key:"loadMetadata",value:function(){this.metadata=Object(c.o)(this.staticMetadata)}}]),n}(u);function p(e){return Object(s.b)(u.NAME)(e)}}},[[281,1,2]]]);
//# sourceMappingURL=main.08044f29.chunk.js.map